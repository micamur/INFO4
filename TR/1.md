# Technologie des Réseaux

Responsable : Olivier.Richard@imag.fr

## Modèle en couches / modèle OSI

**OSI** : *Open Systems Interconnection*

Un modèle basé sur **7 couches** :

```text
                  *-----------*
Application       |           | 7
Présentation      |           | 6
Session           |           | 5
Transport         | TCP / UDP | 4 *
Réseau            | IP        | 3 *
Liaison de donnée | Ethernet  | 2 *
Physique          | Ethernet  | 1
                  *-----------*
* les plus étudiés en cours
```

> L1, L2, L3... = Layer 1, Layer 2, Layer 3...

### IP (Internet protocol)

#### Généralités

- **1970.** réseau **Arpanet**
- **Années 80-90.** IP s'impose
- Structure décentralisée
- **IETF (*Internet Engineering Task Force*).** Groupes de travail $$\rightarrow$$ **RFC (*Request For Comment*)** décrit un protocole

IP joue un rôle de protocole d'unification (IP/Ethernet, IP/Numéris, IP/X25, IP/ADSL)

#### IPv4

Il assure un service de délivrance de datagramme :

- **sans connexion** $$\rightarrow$$ chaque datagramme va être traité indépendamment
- **non-fiable** $$\rightarrow$$ aucune garantie d'arrivée (ni l'émetteur, ni le récepteur ne sont tenus informé de la perte de datagramme)

##### Adressage

- 1 adresse par carte réseau : 32 bits/4 octets, notation décimale pointée
- 5 classes : bits de poids forts

    ```text
        *------------------------------------------*
    A : | 0     | id reseau (7)  | id machine (24) |
    B : | 10    | id reseau (14) | id machine (16) |
    C : | 110   | id reseau (21) | id machine (9)  |
    D : | 1110  |         adresse multicast        |
    E : | 11110 |             réservé              |
        *------------------------------------------*
    ```

> `0.0.0.0` Quand une machine *boote* et qu'elle ne connaît pas son adresse
>
> `<id R> <id M = 0>` $$\rightarrow$$ désigne un réseau
>
> `<id R> <id M = tous les bits à 1>` $$\rightarrow$$ adresse de diffusion pour le réseau (broadcast)
>
> `255.255.255.255` $$\rightarrow$$ adresse de diffusion du réseau local
>
> `127.X.Y.Z` / `127.0.0.1` $$\rightarrow$$ adresse de rebouclage
>
> Adresse réseau privée $$\rightarrow$$ pas "routé" (`192.168.X.Y`)

Notation CIDR *(Classless Internet Domain Rooting)*

Masque de "sous" réseau variable

```text
Notation "normale" :
      195.        4.        5.       65    -> adresse
1100 0011.0000 0100.0000 0101.0100 0001    -> binaire

      255.      255.      255.      192    -> masque réseau
1111 1111.1111 1111.1111 1111.1100 0000    -> binaire
```

```text
Notation CIDR :
      195.        4.        5.       65/26 -> nombre de 1 spécifiant le netmask
```

##### Routage

Le routage est la fonctionnalité principale de la couche IP. C'est une fonction d'aiguillage $$\rightarrow$$ Sur quel port envoyer le datagramme IP.

Routage spécifié à l'aide d'une **table de routage** :

```text
Destination     | Gateway
----------------|-------------------
@IP_M1          | @IP_Routeur1
@IP_Réseau/24   | @IP_Routeur1
@IP_RéseauL1/26 | @Eth0
@IP_RéseauL2/24 | @Eth1
****            | @IP_R1
```
